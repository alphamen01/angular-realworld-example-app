"use strict";(self.webpackChunkangular_conduit=self.webpackChunkangular_conduit||[]).push([[682],{8682:(A,u,n)=>{n.r(u),n.d(u,{AuthComponent:()=>E});var e=n(433),a=n(2605),m=n(6895),h=n(6860),p=n(2722),_=n(7579),t=n(4650),d=n(8386);const g=function(){return["/login"]};function c(r,l){1&r&&(t.TgZ(0,"a",14),t._uU(1,"Have an account?"),t.qZA()),2&r&&t.Q6J("routerLink",t.DdM(1,g))}const f=function(){return["/register"]};function T(r,l){1&r&&(t.TgZ(0,"a",14),t._uU(1,"Need an account?"),t.qZA()),2&r&&t.Q6J("routerLink",t.DdM(1,f))}function v(r,l){1&r&&t._UZ(0,"input",15)}let E=(()=>{class r{constructor(i,s,o){this.route=i,this.router=s,this.userService=o,this.authType="",this.title="",this.errors={errors:{}},this.isSubmitting=!1,this.destroy$=new _.x,this.authForm=new e.cw({email:new e.NI("",{validators:[e.kI.required],nonNullable:!0}),password:new e.NI("",{validators:[e.kI.required],nonNullable:!0})})}ngOnInit(){this.authType=this.route.snapshot.url.at(-1).path,this.title="login"===this.authType?"Sign in":"Sign up","register"===this.authType&&this.authForm.addControl("username",new e.NI("",{validators:[e.kI.required],nonNullable:!0}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}submitForm(){this.isSubmitting=!0,this.errors={errors:{}},("login"===this.authType?this.userService.login(this.authForm.value):this.userService.register(this.authForm.value)).pipe((0,p.R)(this.destroy$)).subscribe({next:()=>{this.router.navigate(["/"])},error:s=>{this.errors=s,this.isSubmitting=!1}})}static#t=this.\u0275fac=function(s){return new(s||r)(t.Y36(a.gz),t.Y36(a.F0),t.Y36(d.K))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-auth-page"]],standalone:!0,features:[t.jDz],decls:20,vars:9,consts:[[1,"auth-page"],[1,"container","page"],[1,"row"],[1,"col-md-6","offset-md-3","col-xs-12"],[1,"text-xs-center"],[3,"routerLink",4,"ngIf"],[3,"errors"],[3,"formGroup","ngSubmit"],[3,"disabled"],[1,"form-group"],["formControlName","username","placeholder","Username","class","form-control form-control-lg","type","text",4,"ngIf"],["formControlName","email","placeholder","Email","type","text",1,"form-control","form-control-lg"],["formControlName","password","placeholder","Password","type","password",1,"form-control","form-control-lg"],["type","submit",1,"btn","btn-lg","btn-primary","pull-xs-right",3,"disabled"],[3,"routerLink"],["formControlName","username","placeholder","Username","type","text",1,"form-control","form-control-lg"]],template:function(s,o){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t._uU(5),t.qZA(),t.TgZ(6,"p",4),t.YNc(7,c,2,2,"a",5),t.YNc(8,T,2,2,"a",5),t.qZA(),t._UZ(9,"app-list-errors",6),t.TgZ(10,"form",7),t.NdJ("ngSubmit",function(){return o.submitForm()}),t.TgZ(11,"fieldset",8)(12,"fieldset",9),t.YNc(13,v,1,0,"input",10),t.qZA(),t.TgZ(14,"fieldset",9),t._UZ(15,"input",11),t.qZA(),t.TgZ(16,"fieldset",9),t._UZ(17,"input",12),t.qZA(),t.TgZ(18,"button",13),t._uU(19),t.qZA()()()()()()()),2&s&&(t.xp6(5),t.Oqu(o.title),t.xp6(2),t.Q6J("ngIf","register"===o.authType),t.xp6(1),t.Q6J("ngIf","login"===o.authType),t.xp6(1),t.Q6J("errors",o.errors),t.xp6(1),t.Q6J("formGroup",o.authForm),t.xp6(1),t.Q6J("disabled",o.isSubmitting),t.xp6(2),t.Q6J("ngIf","register"===o.authType),t.xp6(5),t.Q6J("disabled",!o.authForm.valid),t.xp6(1),t.hij(" ",o.title," "))},dependencies:[a.rH,m.O5,h.S,e.UX,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u],encapsulation:2})}return r})()}}]);